<!DOCTYPE html>
<html lang="en">
<link href="/css/pygments.css" rel="stylesheet"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Living Wage by State | annasanders.github.io</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Living Wage by State" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A place to display my coding projects." />
<meta property="og:description" content="A place to display my coding projects." />
<link rel="canonical" href="http://localhost:4000/python/living_wage" />
<meta property="og:url" content="http://localhost:4000/python/living_wage" />
<meta property="og:site_name" content="annasanders.github.io" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Living Wage by State" />
<script type="application/ld+json">
{"headline":"Living Wage by State","url":"http://localhost:4000/python/living_wage","@type":"WebPage","description":"A place to display my coding projects.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="annasanders.github.io" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">annasanders.github.io</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/r">ü¶è R Projects</a><a class="page-link" href="/python">üêç Python Projects</a><a class="page-link" href="/other">ü¶¶ Other Projects</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Living Wage by State</h1>
  </header>

  <div class="post-content">
    <h2 id="purpose">Purpose</h2>

<p>To explore Machine Learning techniques: clustering and classification.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="n">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">plotly</span> <span class="k">as</span> <span class="n">pl</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="n">px</span>
<span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="n">sp</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>

<span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">"classic"</span><span class="p">)</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</code></pre></div></div>

<h2 id="loading-data">Loading Data</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lw_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"livingwage50states.csv"</span><span class="p">)</span>
<span class="n">state_id</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">52</span><span class="p">)</span>

<span class="n">lw_raw</span><span class="p">[</span><span class="s">"state_id"</span><span class="p">]</span> <span class="o">=</span> <span class="n">state_id</span>

<span class="n">lw_state</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">lw_raw</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">"2020_election"</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="p">(</span><span class="s">"2020_election"</span><span class="p">))</span>

<span class="n">lw_state</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">astype</span><span class="p">(</span><span class="s">"float"</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s">"ignore"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="matplotlib">Matplotlib</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot1</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">lw_plot1</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"state_territory"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span><span class="s">'tab:red'</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span><span class="s">'white'</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">"Living Wage"</span><span class="p">)</span>
<span class="n">lw_plot1</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"state_territory"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"min_wage"</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span><span class="s">'tab:blue'</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span><span class="s">'white'</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">"Minimum Wage"</span><span class="p">)</span>
<span class="n">lw_plot1</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">lw_plot1</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Minimum Wage vs. Living Wage for a Singe Individual"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="n">lw_plot1</span><span class="p">.</span><span class="n">get_xticklabels</span><span class="p">():</span>
    <span class="n">tick</span><span class="p">.</span><span class="n">set_rotation</span><span class="p">(</span><span class="s">'vertical'</span><span class="p">)</span>

<span class="n">fig</span><span class="p">.</span><span class="n">align_labels</span><span class="p">()</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_7_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot2</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="n">lw_plot2</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span>  <span class="n">c</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"state_id"</span><span class="p">],</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">lw_plot2</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span>  <span class="n">c</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"state_id"</span><span class="p">],</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">lw_plot2</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">lw_plot2</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">lw_plot2</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="n">fig</span><span class="p">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">"Living Wage vs. Population and Density"</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_8_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot3</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot3</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot3</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot3</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"state_id"</span><span class="p">],</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">)</span>
<span class="n">lw_plot3</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">):</span>
 <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">population_2020</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">oneadult_nokids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">state_territory</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">"black"</span><span class="p">,</span>
          <span class="n">fontdict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'y'</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="n">lw_plot3</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Living Wage vs. Population and Density"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_9_0.png" alt="png" /></p>

<h2 id="classification">Classification</h2>

<p>Can we classify a Democrat vs. Republican State (2020 Presidential Election Results) from this data set? Only using the population, density, minimum wage, and living wage.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">BernoulliNB</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">ComplementNB</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">MultinomialNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot4</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span> <span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot4</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot4</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot4</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"2020_election_R"</span><span class="p">],</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
<span class="n">lw_plot4</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">):</span>
 <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">population_2020</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">oneadult_nokids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">state_territory</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">"grey"</span><span class="p">,</span>
          <span class="n">fontdict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'y'</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="n">lw_plot4</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Living Wage vs. Population and Density ('Blue' v. 'Red States')"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_13_0.png" alt="png" /></p>

<h3 id="naive-bayes-models">Naive Bayes Models</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Multinomial NB
</span><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">19</span><span class="p">].</span><span class="n">values</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">MultinomialNB</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Accuracy for Predicting Democratic v. Republican States:"</span><span class="p">,</span> <span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s">"%"</span><span class="p">)</span>

<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">Accuracy</span> <span class="k">for</span> <span class="n">Predicting</span> <span class="n">Democratic</span> <span class="n">v</span><span class="p">.</span> <span class="n">Republican</span> <span class="n">States</span><span class="p">:</span> <span class="mf">62.5</span> <span class="o">%</span>
    <span class="p">[[</span><span class="mi">7</span> <span class="mi">0</span><span class="p">]</span>
     <span class="p">[</span><span class="mi">6</span> <span class="mi">3</span><span class="p">]]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Complement NB
</span><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">19</span><span class="p">].</span><span class="n">values</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">ComplementNB</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Accuracy for Predicting Democratic v. Republican States:"</span><span class="p">,</span> <span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s">"%"</span><span class="p">)</span>

<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">Accuracy</span> <span class="k">for</span> <span class="n">Predicting</span> <span class="n">Democratic</span> <span class="n">v</span><span class="p">.</span> <span class="n">Republican</span> <span class="n">States</span><span class="p">:</span> <span class="mf">62.5</span> <span class="o">%</span>
    <span class="p">[[</span><span class="mi">7</span> <span class="mi">0</span><span class="p">]</span>
     <span class="p">[</span><span class="mi">6</span> <span class="mi">3</span><span class="p">]]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Gaussian NB
</span><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">19</span><span class="p">].</span><span class="n">values</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Accuracy for Predicting Democratic v. Republican States:"</span><span class="p">,</span> <span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s">"%"</span><span class="p">)</span>

<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">Accuracy</span> <span class="k">for</span> <span class="n">Predicting</span> <span class="n">Democratic</span> <span class="n">v</span><span class="p">.</span> <span class="n">Republican</span> <span class="n">States</span><span class="p">:</span> <span class="mf">50.0</span> <span class="o">%</span>
    <span class="p">[[</span><span class="mi">7</span> <span class="mi">0</span><span class="p">]</span>
     <span class="p">[</span><span class="mi">8</span> <span class="mi">1</span><span class="p">]]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bernoulli NB
## states in order: population, density, living wage, minimum wage
</span><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">19</span><span class="p">].</span><span class="n">values</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">BernoulliNB</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Accuracy for Predicting Democratic v. Republican States:"</span><span class="p">,</span> <span class="p">(</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s">"%"</span><span class="p">)</span>

<span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">Accuracy</span> <span class="k">for</span> <span class="n">Predicting</span> <span class="n">Democratic</span> <span class="n">v</span><span class="p">.</span> <span class="n">Republican</span> <span class="n">States</span><span class="p">:</span> <span class="mf">43.75</span> <span class="o">%</span>
    <span class="p">[[</span><span class="mi">7</span> <span class="mi">0</span><span class="p">]</span>
     <span class="p">[</span><span class="mi">9</span> <span class="mi">0</span><span class="p">]]</span>
</code></pre></div></div>

<p>The Bernoulli Naive Bayes (after standardizing the data), was the most accurate model, at 87.5%. Additionally, the model only returned false negatives (e.g. failed to classify a state as Democrat).</p>

<h3 id="visual-classification">Visual Classification</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Multinomial NB
</span><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">19</span><span class="p">].</span><span class="n">values</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Xnew2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">40000000</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span> <span class="o">*</span> <span class="n">rng</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">ynew2</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">Xnew2</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot5</span><span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot5</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot5</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot5</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Xnew2</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">Xnew2</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">Xnew2</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">ynew2</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">lw_plot5</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"2020_election_R"</span><span class="p">],</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
<span class="n">lw_plot5</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="n">lw_plot5</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Multinomial NB: Living Wage vs. Population and Density ('Blue' v. 'Red States')"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_22_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Complement NB
</span><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">19</span><span class="p">].</span><span class="n">values</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">ComplementNB</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Xnew1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">40000000</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span> <span class="o">*</span> <span class="n">rng</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">ynew1</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">Xnew1</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot6</span><span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot6</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot6</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot6</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Xnew1</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">Xnew1</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">Xnew1</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">ynew1</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">lw_plot6</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"2020_election_R"</span><span class="p">],</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
<span class="n">lw_plot6</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="n">lw_plot6</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Complement NB: Living Wage vs. Population and Density ('Blue' v. 'Red States')"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_24_0.png" alt="png" /></p>

<h2 id="clustering">Clustering</h2>

<p>What will the data points cluster into?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">SpectralClustering</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>

<span class="n">kmeans2</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">kmeans2</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">y_means2</span> <span class="o">=</span> <span class="n">kmeans2</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">centers</span> <span class="o">=</span> <span class="n">kmeans2</span><span class="p">.</span><span class="n">cluster_centers_</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot7</span><span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot7</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot7</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot7</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">y_means2</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Set2'</span><span class="p">)</span>
<span class="n">lw_plot7</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">):</span>
 <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">population_2020</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">oneadult_nokids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">state_territory</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">"black"</span><span class="p">,</span>
          <span class="n">fontdict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'y'</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="n">lw_plot7</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"KMeans with 2 Clusters"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_29_0.png" alt="png" /></p>

<p>This does not look to be a good cluster grouping.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>

<span class="n">kmeans4</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">kmeans4</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">y_means4</span> <span class="o">=</span> <span class="n">kmeans4</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">centers</span> <span class="o">=</span> <span class="n">kmeans4</span><span class="p">.</span><span class="n">cluster_centers_</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot8</span><span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot8</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot8</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot8</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">y_means4</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Set2'</span><span class="p">)</span>
<span class="n">lw_plot8</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">):</span>
 <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">population_2020</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">oneadult_nokids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">state_territory</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">"black"</span><span class="p">,</span>
          <span class="n">fontdict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'y'</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="n">lw_plot8</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"KMeans with 4 Clusters"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_32_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">SpectralClustering</span><span class="p">(</span><span class="n">n_clusters</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">affinity</span> <span class="o">=</span> <span class="s">"nearest_neighbors"</span><span class="p">,</span> <span class="n">assign_labels</span><span class="o">=</span><span class="s">"kmeans"</span><span class="p">)</span>
<span class="n">labels2</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot9</span><span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot9</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot9</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot9</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">labels2</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Set2'</span><span class="p">)</span>
<span class="n">lw_plot9</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">):</span>
 <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">population_2020</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">oneadult_nokids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">state_territory</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">"black"</span><span class="p">,</span>
          <span class="n">fontdict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'y'</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="n">lw_plot9</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Spectral Clustering Nearest Neighbor with 2 Clusters"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_34_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">]].</span><span class="n">values</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">SpectralClustering</span><span class="p">(</span><span class="n">n_clusters</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">affinity</span> <span class="o">=</span> <span class="s">"nearest_neighbors"</span><span class="p">,</span> <span class="n">assign_labels</span><span class="o">=</span><span class="s">"kmeans"</span><span class="p">)</span>
<span class="n">labels4</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">lw_plot10</span><span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">constrained_layout</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lw_plot10</span><span class="p">.</span><span class="n">xaxis</span><span class="p">,</span> <span class="n">lw_plot10</span><span class="p">.</span><span class="n">yaxis</span><span class="p">]:</span>
    <span class="n">axis</span><span class="p">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mpl</span><span class="p">.</span><span class="n">ticker</span><span class="p">.</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="n">lw_plot10</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">lw_state</span><span class="p">[</span><span class="s">"population_2020"</span><span class="p">],</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"oneadult_nokids"</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="n">lw_state</span><span class="p">[</span><span class="s">"population_density"</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">labels4</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">'face'</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Set2'</span><span class="p">)</span>
<span class="n">lw_plot10</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">):</span>
 <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">population_2020</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">oneadult_nokids</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">s</span><span class="o">=</span><span class="n">lw_state</span><span class="p">.</span><span class="n">state_territory</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">"black"</span><span class="p">,</span>
          <span class="n">fontdict</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'y'</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="n">lw_plot10</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Spectral Clustering Nearest Neighbor with 4 Clusters"</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span> <span class="o">=</span> <span class="s">'plain'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="http://localhost:4000/plots/Python/Living_Wage/output_36_0.png" alt="png" /></p>

<h2 id="final-thoughts">Final Thoughts</h2>

<p>This data likely wasn‚Äôt the best to try and classify or cluster, but it was interesting to visualize different Bayesian classification methods and various clustering mechanisms. Looking at the graphs, the classification and clustering may have had too great of an influence, as most of the states were clearly split by population size (vertically).</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">annasanders.github.io</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">annasanders.github.io</li><li><a class="u-email" href="mailto:axsanders6@gmail.com">axsanders6@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/annasanders"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">annasanders</span></a></li><li><a href="https://www.linkedin.com/in/anna-sanders-6610aa162"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">anna-sanders-6610aa162</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A place to display my coding projects.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
